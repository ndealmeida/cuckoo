schema doc {
    document doc {
        field id type int {
            indexing: summary
        }
        field title type string {
            indexing: index | summary
        }
        field body type string {
            indexing: index | summary
        }
        field embedding type tensor<float>(x[384]) {
            indexing: attribute | index | summary
            index: hnsw
        }
    }

    fieldset default {
        fields: title, body
    }

    rank-profile semantic {
        inputs {
            query(q_vector) tensor<float>(x[384])
        }
        first-phase {
            expression: closeness(field, embedding)
        }
    }
}
